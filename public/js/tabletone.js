(function(){var t,e,n,r,o,i,s,a,u;i=new(window.AudioContext||window.webkitAudioContext),n=[],r={},a=function(t){return r[t]?Promise.resolve(r[t]):fetch(t).then(function(t){return t.arrayBuffer()}).then(function(t){return new Promise(function(e){return i.decodeAudioData(t,e)})}).then(function(e){return r[t]=e,e})},t=function(t){return a(t).then(function(t){var e;return e=i.createBufferSource(),e.buffer=t,e.loop=!0,e.connect(i.destination),n.push(e),e.start(0,i.currentTime%t.duration,Math.pow(2,16)),e})},u=function(t){var e;return e=n.indexOf(t),t.disconnect(),t.stop(0),e>-1&&n.splice(e,1),t},s=function(t,e){var n,r,o,i;return t.fftSize=512,n=new Float32Array(t.fftSize),i=null,o=null,(r=function(){return requestAnimationFrame(function(){var s,a,u,f;for(t.getFloatTimeDomainData(n),s=0,a=0,u=n.length;u>a;a++)f=n[a],s+=Math.abs(f);return s/=n.length,(!i||i>s)&&(i=s),(!o||s>o)&&(o=s),f=Math.round(1e3*Math.min((s-i)/(o-i),1))/1e3,e.style.opacity=1-f,t.finished?void 0:r()})})()},e=function(t){var e,n;return e=i.createAnalyser(),t.audio.connect(e),t.analyser=e,t.innerHTML="",n=document.createElement("tt-pulse"),t.appendChild(n),s(e,n)},o=function(n){var r;return this.playing?(u(this.audio),this.innerHTML="",null!=(r=this.analyser)&&(r.finished=!0),this.playing=!1,this.classList.remove("playing")):t(this.src).then(function(t){return function(n){return t.classList.add("playing"),t.audio=n,t.pulse&&e(t),t.playing=!0}}(this))},function(){var t,e,n,r,i;for(r=document.querySelectorAll("tt-cell"),i=[],e=0,n=r.length;n>e;e++)t=r[e],t.tabletone||(t.tabletone=!0,t.src=t.getAttribute("src"),t.pulse=null!=t.getAttribute("pulse"),t.playing=!1,i.push(t.addEventListener("click",o)));return i}()}).call(this),function(){"use strict";function t(t){if("string"!=typeof t&&(t=t.toString()),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function e(t){return"string"!=typeof t&&(t=t.toString()),t}function n(t){this.map={};var e=this;t instanceof n?t.forEach(function(t,n){n.forEach(function(n){e.append(t,n)})}):t&&Object.getOwnPropertyNames(t).forEach(function(n){e.append(n,t[n])})}function r(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function o(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function i(t){var e=new FileReader;return e.readAsArrayBuffer(t),o(e)}function s(t){var e=new FileReader;return e.readAsText(t),o(e)}function a(){return this.bodyUsed=!1,d.blob?(this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(d.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(d.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else{if(t)throw new Error("unsupported BodyInit type");this._bodyText=""}},this.blob=function(){var t=r(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(i)},this.text=function(){var t=r(this);if(t)return t;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):(this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(d.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else{if(t)throw new Error("unsupported BodyInit type");this._bodyText=""}},this.text=function(){var t=r(this);return t?t:Promise.resolve(this._bodyText)}),d.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(t){var e=t.toUpperCase();return p.indexOf(e)>-1?e:t}function f(t,e){if(e=e||{},this.url=t,this.credentials=e.credentials||"omit",this.headers=new n(e.headers),this.method=u(e.method||"GET"),this.mode=e.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&e.body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(e.body)}function h(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}}),e}function l(t){var e=new n,r=t.getAllResponseHeaders().trim().split("\n");return r.forEach(function(t){var n=t.trim().split(":"),r=n.shift().trim(),o=n.join(":").trim();e.append(r,o)}),e}function c(t,e){e||(e={}),this._initBody(t),this.type="default",this.url=null,this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof n?e.headers:new n(e.headers),this.url=e.url||""}if(!self.fetch){n.prototype.append=function(n,r){n=t(n),r=e(r);var o=this.map[n];o||(o=[],this.map[n]=o),o.push(r)},n.prototype.delete=function(e){delete this.map[t(e)]},n.prototype.get=function(e){var n=this.map[t(e)];return n?n[0]:null},n.prototype.getAll=function(e){return this.map[t(e)]||[]},n.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},n.prototype.set=function(n,r){this.map[t(n)]=[e(r)]},n.prototype.forEach=function(t){var e=this;Object.getOwnPropertyNames(this.map).forEach(function(n){t(n,e.map[n])})};var d={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self},p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.fetch=function(){var t=this;return new Promise(function(e,n){function r(){return"responseURL"in o?o.responseURL:/^X-Request-URL:/m.test(o.getAllResponseHeaders())?o.getResponseHeader("X-Request-URL"):void 0}var o=new XMLHttpRequest;"cors"===t.credentials&&(o.withCredentials=!0),o.onload=function(){var t=1223===o.status?204:o.status;if(100>t||t>599)return void n(new TypeError("Network request failed"));var i={status:t,statusText:o.statusText,headers:l(o),url:r()},s="response"in o?o.response:o.responseText;e(new c(s,i))},o.onerror=function(){n(new TypeError("Network request failed"))},o.open(t.method,t.url,!0),"responseType"in o&&d.blob&&(o.responseType="blob"),t.headers.forEach(function(t,e){e.forEach(function(e){o.setRequestHeader(t,e)})}),o.send("undefined"==typeof t._bodyInit?null:t._bodyInit)})},a.call(f.prototype),a.call(c.prototype),self.Headers=n,self.Request=f,self.Response=c,self.fetch=function(t,e){return new f(t,e).fetch()},self.fetch.polyfill=!0}}();